var BM_i18n={en_US:{loading:"Loading...",title:"Menu",menubtn_highscores:"High Scores",menubtn_moregames:"More Games",menubtn_exit:"Exit Game",btn_back:"Back",btn_continue:"Continue",btn_menu:"Menu",btn_register:"Sign in / Sign up",btn_back_community:"Back to [[x]]",hs_header:"High Scores",hs_alltime:"All Time",hs_week:"Week",hs_day:"Day",hs_my_title:"Your best score",hs_allusers_title:"Top 3 Scores",hs_no_score:"Play now to get a top score for this period!",hs_noncommunity_title:"Top Scores",score_popup_header:"Congratulations",
score_popup_intro:"You got a new score!",score_popup_known:"Play again to see if you can beat it!",score_popup_unknown:"Sign in to save your score to the leaderboard!",community_title:"New Features!",community_advantages_1:"Avatars",community_advantages_2:"High Scores",community_advantages_3:"Leaderboards",community_login:"Join now!",ad_header:"Advertisement",ad_interstitial_desc:"Thanks for helping us bring you the best mobile games for free!",submitscore:"Please enter your name to submit your highscore of:"}};String.prototype.contains=function(h,f){var d=this;f||(d=d.toLowerCase(),h=h.toLowerCase());return-1!=d.indexOf(h)};String.prototype.format=function(){for(var h=this,f=arguments.length;f--;)h=h.replace(RegExp("\\{"+f+"\\}","gi"),arguments[f]);return h};String.prototype.splitAndTrim=function(){return this.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)};String.prototype.ucFirst=function(){return this.charAt(0).toUpperCase()+this.slice(1)};function isString(h){return"string"==typeof h};(function(){var h=!1,f=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.BMClass=function(){};BMClass.extend=function(d){function i(){!h&&this.autoInit&&this.autoInit.apply(this,arguments)}var a=this.prototype;h=!0;var g=new this;h=!1;for(var j in d)g[j]="function"===typeof d[j]&&"function"===typeof a[j]&&f.test(d[j])?function(b,d){return function(){var k=this._super;this._super=a[b];var f=d.apply(this,arguments);this._super=k;return f}}(j,d[j]):d[j];i.prototype=g;i.prototype.constructor=i;i.extend=
arguments.callee;return i}})();var BM_CORS=BMClass.extend({autoInit:function(){},test:function(){alert("test")},_debugCorsResult:function(h){var f=document.getElementById("output");f&&(f.innerHTML=" "+h)},createCORSRequest:function(h,f,d,i){var a=new XMLHttpRequest;"withCredentials"in a?(a.open(h,f,!0),a.withCredentials=!0):"undefined"!==typeof XDomainRequest?(a=new XDomainRequest,a.open(h,f)):a=null;a?(a.onload=d,a.onerror=i,a.setRequestHeader("Content-type","text/plain")):_debugCorsResult("CORS not supported");return a}});var BM_API=function(){var h={},f="UNSET",d="UNSET",i=null,a=null,g=null,j=!1,b,p,k,q,m,r,t,w,s,u;_Init=function(e,b){f=e;d=b;j=!0;for(var k={},m=window.top.location.search,m=m.substr(1,m.length).split("&"),g=0;g<m.length;g++)tmp=m[g].split("="),k[tmp[0]]=tmp[1];h=k;k=l("bm.source");null!==k&&(a=k);k=l("bm.gameid");null!==k&&(i=k);k=l("bm.category");null!==k&&(d=k)};var l=function(e){return h&&h[e]?h[e]:null};return{gameName:function(){return f},gameCategory:function(){return d},gameID:function(){return i},
gameCode:function(){return g},gameSource:function(){return a},init:_Init,initWithObj:function(e){e._gameCode&&(g=e._gameCode);e._categoryName&&(d=e._categoryName);_Init(e._gameName,e._categoryName)},getGET:l,getGeneric:function(){b||(b=new BM_API_GENERIC);return b},getProfile:function(){p||(p=new BM_API_PROFILE);return p},getInterface:function(){k||(k=new BM_API_INTERFACE);return k},getAd:function(){q||(q=new BM_API_AD);return q},getAnalytics:function(){j||console.log("WARNING getAnalytics: BM API not initialized");
m||(m=new BM_API_ANALYTICS);return m},getHighscores:function(){r||(r=new BM_API_HIGHSCORES);return r},getHighscoresAnon:function(){t||(t=new BM_API_HIGHSCORES_ANON);return t},getAdsense:function(){w||(w=new BM_API_ADSENSE);return w},getTeaser:function(){s||(s=new BM_API_TEASER);return s},getPostMessage:function(){u||(u=new BM_API_POSTMESSAGE);return u}}}();var BM_API_BASE=BMClass.extend({autoInit:function(){},test:function(){alert("test")}});var BM_API_GENERIC=BM_API_BASE.extend(function(){var h=!0,f=null,d=!1,i=!1,a=function(b){var a={webkit:"webkitAnimationEnd",moz:"animationend",o:"oAnimationEnd",ms:"MSAnimationEnd"},k="animationend";Object.keys(a).some(function(d){if(d+"TransitionProperty"in b.style)return k=a[d],!0});return k},g=function(){var b=document.getElementById("booster-splashscreen");b.removeEventListener(a(b),g,!1);BM_API.getGeneric().removeElementFromDocumentById("booster-splashscreen");BM_API.getGeneric().splashCompleted()},
j=function(){f&&(f(),f=null);BM_API.getProfile().connect();BM_API.getAd().continueAfterSplash()};return{autoInit:function(){this._super()},stopClickPropagation:function(b){b&&(b.preventDefault(),b.stopPropagation?b.stopPropagation():b.cancelBubble=!0);return!1},getNextHighestZindex:function(){for(var b=0,a=0,k=[],k=document.getElementsByTagName("*"),d=0;d<k.length;d++)k[d].style?a=parseInt(k[d].style.zIndex):window.getComputedStyle&&(a=parseInt(document.defaultView.getComputedStyle(k[d],null).getPropertyValue("z-index"))),
!isNaN(a)&&(16777271>a&&a>b)&&(b=a);return b+1},getUserAgentOS:function(){var b="unknown";-1!==navigator.userAgent.indexOf("Android")?b="android":-1!==navigator.userAgent.indexOf("Mac")?b="macos":-1!==navigator.userAgent.indexOf("Win")?b="windows":-1!==navigator.userAgent.indexOf("X11")?b="unix":-1!==navigator.userAgent.indexOf("Linux")&&(b="linux");return b},getAnimationEndEventName:a,getBrowserBarSpaceheight:function(){return 0},isSplashEnabled:function(){return h},setSplashEnabled:function(b){h=
b},isLandRotationEnabled:function(){return d},isPortRotationEnabled:function(){return i},setLandRotation:function(b){d=b},setPortRotation:function(b){i=b},setCallbackAfterSplash:function(b){f=b},removeElementFromDocumentById:function(b){return(elem_obj=document.getElementById(b))?elem_obj.parentNode.removeChild(elem_obj):!1},openPortal:function(){var b=BM_API.gameSource();!b||""===b?b="http://www.gamesplaza.com":b.match("^http")||(b="http://"+b);window.top===self?window.location.href=b:window.top.location.href=
b},selectedMoreGamesBarButton:function(){BM_API.getAnalytics().eventBBarMoreGames();this.openPortal()},showMoreGamesBarButton:function(){BM_API.getGeneric().selectedMoreGamesBarButton()},selectedMoreGamesCloseDialog:function(){BM_API.getProfile().isCommunityFeaturesAvail(BM_API.getProfile().GF_HIGHSCORE)?BM_API.getAnalytics().eventBBarExitGameComm():BM_API.getAnalytics().eventBBarExitGameNonComm();BM_API.getGeneric().openPortal()},showMoreGames:function(){BM_API.getAnalytics().eventMoreGames();this.openPortal()},
selectedMoreGames:function(){BM_API.getGeneric().showMoreGames()},splashCompleted:j,updateViewport:function(b,a){b||(b=window.innerWidth);a||(a=window.innerHeight);var d=0!==b?b:screen.width,f=0!==a?a:screen.height;document&&document.querySelector("meta[name=viewport]").setAttribute("content","height="+f+", width="+d+", initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no")},onloadBM:function(){var b=document.createElement("link");b.setAttribute("rel","stylesheet");b.setAttribute("type",
"text/css");b.setAttribute("href","bmdefault.css");var f=document.createElement("script");f.setAttribute("type","text/javascript");f.setAttribute("src","lib/ima3.js");var k=document.getElementsByTagName("head")[0]||document.documentElement;k.insertBefore(b,k.firstChild);k.insertBefore(f,k.firstChild);h?(b=document.createElement("div"),b.setAttribute("id","booster-splashscreen"),b.innerHTML="<div id='booster-splashscreen-content'></div>",document.body.insertBefore(b,
document.body.firstChild),b.addEventListener(a(b),g,!1)):j();if(d||i)b="",b=d&&i?"-always":d?"-landscape":"-portrait",document.getElementsByTagName("head"),f=document.getElementById("booster-device-rotation"+b),f||(f=document.createElement("div"),f.setAttribute("id","booster-device-rotation"+b),f.innerHTML='<div id="booster-logo'+b+'"></div><div id="booster-font'+b+'"></div> ',document.body.insertBefore(f,document.body.firstChild));window&&(window.document.body.style.margin="0px")}}}());var BM_API_AD=BM_API_BASE.extend(function(){var h=!0,f=!1,d=[],i=12E4,a=0,g=43004,j=168818,b=43004,p=168819;return{autoInit:function(){this._super()},init:function(){var a=BM_API.getGET("bm.interdelay");null!==a&&(i=parseInt(a))},setAdsEnabled:function(a){h=a},isAdsEnabled:function(){return h},isGameReadyForAds:function(){return f},setAdCodes:function(a){a.ad320x50&&(g=a.ad320x50.site,j=a.ad320x50.zone);a.ad300x250&&(b=a.ad300x250.site,p=a.ad300x250.zone)},getAdvertisingCode:function(a){var b="",
d="";a&&(a.type&&"mocean"===a.type)&&(a.site&&0!==a.site&&(b="site="+a.site+"&"),a.zone&&0!==a.zone&&(d="zone="+a.zone+"&"));var f="";a&&"300x250"===a.size?f="<iframe id='booster' src='http://ads.mocean.mobi/ad?"+b+""+d+"game="+BM_API.gameName()+"' width='300px' height='250px' frameborder='0' scrolling='no'></iframe>":a&&"320x50"===a.size&&(f="<iframe src='http://ads.mocean.mobi/ad?"+b+""+d+"game="+BM_API.gameName()+"' width='320' height='50' frameborder='0' scrolling='no'></iframe>");return f},hideAllAdvertising:function(){this.isAdsEnabled()&&
(this.hideAdvertising(),this.hideAdvertising300x250(null))},addAdvertising:function(a,b){this.isGameReadyForAds()?(g=a,j=b,this.isAdsEnabled()&&(BM_API.getInterface().showAd320x50InMenu(this.getAdvertisingCode({site:g,zone:j,type:"mocean",size:"320x50"})),_bShown320x50=!0)):d.push({func:this.addAdvertising,site:a,zone:b})},showAdvertising:function(){this.isAdsEnabled()&&BM_API.getAd().addAdvertising(g,j)},advertisingEndAnimBanner:function(){var a=document.getElementById("booster-banner-ad");a.removeEventListener(BM_API.getGeneric().getAnimationEndEventName(a),
BM_API.getInterface().advertisingEndAnimBanner,!1);BM_API.getGeneric().removeElementFromDocumentById(a.id);document.getElementById("booster-banner-ad")&&(document.getElementById("booster-banner-ad").style.display="none")},hideAdvertising:function(a){a=a||window.event;if(this.isAdsEnabled()){var b=document.getElementById("booster-banner-ad");b&&(b.setAttribute("class","adOut"),b.addEventListener(BM_API.getGeneric().getAnimationEndEventName(b),BM_API.getInterface().advertisingEndAnimBanner,!1))}"undefined"!==
typeof a&&BM_API.getGeneric().stopClickPropagation(a)},onBannerAdClose:function(){BM_API.getAnalytics().eventAdBannerClose();BM_API.getAd().hideAdvertising()},addAdvertising300x250:function(a,f){this.isGameReadyForAds()?(b=a,p=f,BM_API.getAd().showAdvertising300x250()):d.push({func:this.addAdvertising300x250,site:a,zone:f})},showAdvertising300x250:function(){if(this.isAdsEnabled()){var d=Date.now();d-a>i&&(BM_API.getInterface().showAd300x250InMenu(this.getAdvertisingCode({site:b,zone:p,type:"mocean",
size:"300x250"})),a=d,BM_API.getAnalytics().eventAdShown())}},hideAdvertising300x250:function(a){a=a||window.event;if(this.isAdsEnabled()){var b=document.getElementById("booster-intertial-ad");b&&(b.style.display="none",BM_API.getGeneric().removeElementFromDocumentById(b.id))}BM_API.getGeneric().stopClickPropagation(a)},continueAfterSplash:function(){for(f=!0;0<d.length;){var a=d.splice(0,1)[0];a&&a.func.call(this,a.site,a.zone)}}}}());var BM_API_ANALYTICS=BM_API_BASE.extend(function(){var h=!1,f=function(d){window._gaq&&(BM_API.gameName()&&BM_API.gameCategory()&&d)&&window._gaq.push(["b._trackEvent",BM_API.gameName(),d,BM_API.gameCategory(),0,!1])},d=function(d){window._gaq&&(BM_API.gameName()&&d)&&window._gaq.push(["b._trackPageview","/ingame/"+BM_API.gameName()+d])};return{autoInit:function(){this._super()},includeGA:function(){var d=document.createElement("script");d.type="text/javascript";d.async=!0;d.src=("https:"===document.location.protocol?
"https://ssl":"http://www")+".google-analytics.com/ga.js";var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(d,a)},init:function(){window._gaq.push(["b._setAccount","UA-34318136-1"]);window._gaq.push(["b._setCustomVar",3,"Category",BM_API.gameCategory(),3]);window._gaq.push(["b._setCustomVar",4,"Game",BM_API.gameName(),3]);window._gaq.push(["b._setCustomVar",5,"Source",BM_API.gameSource(),3]);window._gaq.push(["b._trackPageview"]);this.eventIndex()},setCustomVariable:function(d,
a,f,j){window._gaq&&window._gaq.push(["b._setCustomVar",d,a,f,j,!1])},eventIndex:function(){f("indexpage view");d("/loading")},eventMainMenu:function(){h||(f("mainmenu view"),h=!0);d("/mainmenu")},eventFailedToLoad:function(){f("Failed to load");d("/failed_to_load")},eventMoreGames:function(){f("moregames button click");d("/more_games")},eventLevelStart:function(){f("level start view");d("/levelstart")},eventLevelFailed:function(){f("level failed view");d("/levelfailed")},eventLevelComplete:function(){f("level complete view");
d("/levelcomplete")},eventGameComplete:function(){f("game complete view");d("/gamecomplete")},eventCustom:function(d){f(d)},eventBBarOpen:function(){f("bbar open");d("/bbar_open")},eventBBarClose:function(){f("bbar close");d("/bbar_close")},eventBBarExitGameNonComm:function(){f("bbar exit game (non comm)");d("/bbar_exit_game_non_comm")},eventBBarExitGameComm:function(){f("bbar exit game (comm)");d("/bbar_exit_game_comm")},eventBBarMoreGames:function(){f("bbar more games");d("/bbar_more_games")},eventBBarSignInUpMainMenu:function(){f("bbar sign in/up main menu btn");
d("/bbar_sign_in_up_main_menu")},eventBBarSignInUpLeaderboard:function(){f("bbar sign in/up leaderboard btn");d("/bbar_sign_in_up_leaderboard")},eventBBarSignInUpScoreScreen:function(){f("bbar sign in/up score screen btn");d("/bbar_sign_in_up_score_screen")},eventBBarLeaderBoardPeriodDay:function(){f("bbar leaderboard period day");d("/bbar_leaderboard_period_day")},eventBBarLeaderBoardPeriodWeek:function(){f("bbar leaderboard period week");d("/bbar_leaderboard_period_week")},eventBBarLeaderBoardPeriodAllTime:function(){f("bbar leaderboard period all time");
d("/bbar_leaderboard_period_all_time")},eventAdInterstitialClose:function(){f("ad interstitial close btn");d("/ad_interstitial_close")},eventAdBannerClose:function(){f("ad banner close btn");d("/ad_banner_close")},eventAdShown:function(){f("ad 300x250 shown");d("/ad_intstl_shown")}}}());var BM_API_INTERFACE=BM_API_BASE.extend(function(){var h=!1,f=null,d=null,i=null,a=null,g=null,j=[],b=0,p=null,k=!1,q=!1,m=function(){},r=function(){},t={name:"title",bEnabled:!0,bShow:!1,inMenu:!1,id:"booster-menu-title",cssClass:"booster-button",text:BM_i18n.en_US.title,DomObj:null,func:null},w={name:"exit",bEnabled:!0,bShow:!1,inMenu:!1,id:"booster-menu-close",cssClass:"booster-button",text:BM_i18n.en_US.menubtn_exit+" <div id='booster-menu-icons' class='booster-icon-backtoportal' />",DomObj:null,
func:"BM_API.getGeneric().selectedMoreGamesCloseDialog()"},s={name:"highscore_anonymouse",bEnabled:!1,bShow:!1,inMenu:!1,id:"booster-menu-highscores",cssClass:"booster-button",text:BM_i18n.en_US.menubtn_highscores+" <div id='booster-menu-icons' class='booster-icon-highscore' />",DomObj:null,func:"BM_API.getInterface().showHighscores()"},u={name:"moregames",bEnabled:!0,bShow:!1,inMenu:!1,id:"booster-menu-moregames",cssClass:"booster-button",text:BM_i18n.en_US.menubtn_moregames+" <div id='booster-menu-icons' class='booster-icon-moregames'  />",
DomObj:null,func:"BM_API.getGeneric().selectedMoreGamesBarButton()"},l={name:"highscore_community",bEnabled:!1,bShow:!1,inMenu:!1,id:"booster-menu-highscores",cssClass:"booster-button",text:BM_i18n.en_US.menubtn_highscores+" <div id='booster-menu-icons' class='booster-icon-highscore' />",DomObj:null,func:"BM_API.getInterface().showHighscores()"},e={name:"close",bEnabled:!0,bShow:!1,inMenu:!1,id:"booster-menu-close",cssClass:"booster-button",text:"Back to community <div id='booster-menu-icons' class='booster-icon-backtoportal' />",
DomObj:null,func:"BM_API.getGeneric().selectedMoreGamesBarButton()"},v=null,x=null,I=function(a){a.style.visibility="hidden";j.length||BM_API.getInterface().closeMenu(null);z()},J=function(a){a.style.visibility="hidden";z()},K=function(a){a.style.visibility="hidden";BM_API.getGeneric().removeElementFromDocumentById(a.id)},L=function(){y();E()},M=function(){y();BM_API.getGeneric().removeElementFromDocumentById("booster-menu-closed");BM_API.getAnalytics().eventBBarOpen();m&&"function"===typeof m&&m.call();
BM_API.getAd().hideAdvertising();if(a){for(;a.hasChildNodes();)a.removeChild(a.lastChild);for(a.appendChild(g);i.hasChildNodes();)i.removeChild(i.lastChild);a.setAttribute("class","class_anim_moveIn");if(g)for(;g.hasChildNodes();)g.removeChild(g.lastChild)}else a=document.createElement("div"),a.setAttribute("id","booster-menu-opened"),a.setAttribute("class","class_anim_moveIn");if(a){var n=document.createElement("div");n.setAttribute("id","booster-menu-opened-background");n.innerHTML="";g.appendChild(n);
var e=document.createElement("div");e.setAttribute("id","booster-menu-button");e.style.top=b+"px";e.innerHTML=" <img src='/shared/art/interface/boosterbar_button_open.png' /><p>{0}</p>".format(BM_i18n.en_US.btn_menu);e.setAttribute("onclick","BM_API.getInterface().minimizeBar()");e.setAttribute("ontouchstart","BM_API.getInterface().minimizeBar()");a.appendChild(e);if(BM_API.getProfile().isCommunityAvail()){if(BM_API.getProfile().isProfileAvail()){var e=BM_API.getProfile().getProfileObject(),l=document.createElement("div");
l.setAttribute("id","booster-menu-profile");l.innerHTML="<img id='booster-menu-text-profile-avatar' src='{0}'/> <div id='booster-menu-text-profile-username'>{1}</div>".format(e.uiCommunityAvatarUrl,e.uiCommunityName);e=l}else{e=document.createElement("div");e.setAttribute("class","comm_content");l=document.createElement("h1");l.setAttribute("class","join_comm");l.innerHTML="<span>{0}</span>".format(BM_i18n.en_US.community_title);e.appendChild(l);l=document.createElement("ul");l.setAttribute("class",
"comm-advantages");l.innerHTML="<li>{0}</li><li>{1}</li><li>{2}</li>".format(BM_i18n.en_US.community_advantages_1,BM_i18n.en_US.community_advantages_2,BM_i18n.en_US.community_advantages_3);var f=document.createElement("li");f.innerHTML="<a onClick='BM_API.getInterface().goLogin(\"bb_mainmenu_btn\");' ontouchstart='BM_API.getInterface().goLogin(\"bb_mainmenu_btn\");' class='register'>{0}</a>".format(BM_i18n.en_US.community_login);l.appendChild(f);e.appendChild(l)}n.appendChild(e)}p=document.createElement("ul");
p.setAttribute("id","booster-menu-ul");n.appendChild(p)}for(n=0;n<v.length;n++){if(!v[n].DomObj){var e=v[n],l=v[n].id,f=v[n].cssClass,h=v[n].func;if(!e.inMenu){var x=document.createElement("li"),r=document.createElement("a");x.setAttribute("id",l);x.setAttribute("class",f);h&&(x.setAttribute("onclick",h),x.setAttribute("ontouchstart",h));x.appendChild(r);r.innerHTML=e.text;e.DomObj=x}}(e=v[n])&&e.DomObj&&p&&p.appendChild(e.DomObj)}d.appendChild(a);k=!0;q=!1;if(a)for(n=0;n<a.childNodes.length;n++)"booster-menu-tab-background"!==
a.childNodes[n].id&&(a.childNodes[n].style.visibility="");0<j.length&&z()},N=function(a){BM_API.getGeneric().removeElementFromDocumentById(a.id);a=null!==x?x.splice(0,1)[0]:null;null!==a&&BM_API.getInterface().showOverlayNotification(a.html,a.css)},z=function(){if(a){var e=j.shift();if(e){if(a.appendChild(e),a)for(e=0;e<a.childNodes.length;e++)"booster-menu-tab-background"!==a.childNodes[e].id&&(a.childNodes[e].style.visibility="hidden")}else BM_API.getInterface().closeMenu()}},E=function(){BM_API.getGeneric().removeElementFromDocumentById("booster-menu-opened");
if(i)for(;i.hasChildNodes();)i.removeChild(i.lastChild);else i=document.createElement("div"),i.setAttribute("id","booster-menu-closed");i.setAttribute("class","class_anim_moveIn");if(i){var a=document.createElement("div");a.setAttribute("id","booster-menu-button");a.style.top=b+"px";a.innerHTML=" <img src='/shared/art/interface/boosterbar_button_open.png' /><p>{0}</p>".format(BM_i18n.en_US.btn_menu);a.setAttribute("onclick","BM_API.getInterface().openMenu()");a.setAttribute("ontouchstart","BM_API.getInterface().openMenu()");
i.appendChild(a)}d.appendChild(i);k=!1;q=!0;j=[]},A=function(){var a=null;g&&(a=document.createElement("div"),a.setAttribute("id","booster-menu-tab-background"),a.setAttribute("class","class_anim_moveIn"),a.innerHTML="");return a},F=function(a){var e=A();null!==e&&(e.innerHTML="<div id='booster-menu-overlay-tab-intertial'><h1 id='booster-menu-h1'>{0}</h1><div id='booster-menu-interstitial-close' onClick='BM_API.getInterface().continueAfterAvertisementMenu();' ontouchstart='BM_API.getInterface().continueAfterAvertisementMenu();'>X</div><p>{1}</p> {2} <p id='ad-time-counter'></p> </div>".format(BM_i18n.en_US.ad_header,
BM_i18n.en_US.ad_interstitial_desc,a));return e},G=function(a,e){var d=A();if(null!==d){var b="";0===e?b="<img src='' /><p>{0}</p><p>{1}</p><div id='booster-menu-button-profile-register' onClick='BM_API.getInterface().goLogin(\"bb_scorescreen_btn\");' ontouchstart='BM_API.getInterface().goLogin(\"bb_scorescreen_btn\");'>{2}</div>".format(a,BM_i18n.en_US.score_popup_unknown,BM_i18n.en_US.btn_register):1===e&&(b="<img src='' /><p>{0}</p><p>{1}</p>".format(a,BM_i18n.en_US.score_popup_known));d.innerHTML=
"<div id='booster-menu-overlay-tab-highscores'><h1 id='booster-menu-h1'>{0}</h1> {1}<a id='booster-menu-score-gained-continue' onClick='BM_API.getInterface().continueAfterGainedScoreMenu();' ontouchstart='BM_API.getInterface().continueAfterGainedScoreMenu();'>{2}</a></div>".format(BM_i18n.en_US.score_popup_intro,b,BM_i18n.en_US.btn_continue)}return d},B=function(a){var e=A();e.appendChild(a);return e},C=function(){var a=document.createElement("div");a.setAttribute("id","booster-menu-tab-highscores");
a.innerHTML="<div id='boosterbar-backbtn' onClick='BM_API.getInterface().hideHighscores();' ontouchstart='BM_API.getInterface().hideHighscores();'>{0}</div> <h1 id='booster-menu-h1'>{1}</h1><ul><li><a id='booster-menu-highscore-button-day' onClick='BM_API.getInterface().showHighscoresDay();' ontouchstart='BM_API.getInterface().showHighscoresDay();'>{2}</a></li><li><a id='booster-menu-highscore-button-week' onClick='BM_API.getInterface().showHighscoresWeek();' ontouchstart='BM_API.getInterface().showHighscoresWeek();'>{3}</a></li><li><a id='booster-menu-highscore-button-all' onClick='BM_API.getInterface().showHighscoresAll();' ontouchstart='BM_API.getInterface().showHighscoresAll();'>{4}</a></li></ul>".format(BM_i18n.en_US.btn_back,
BM_i18n.en_US.hs_header,BM_i18n.en_US.hs_day,BM_i18n.en_US.hs_week,BM_i18n.en_US.hs_alltime);return a},D=function(a){var e=document.getElementById("booster-menu-highscore-button-day"),d=document.getElementById("booster-menu-highscore-button-week"),b=document.getElementById("booster-menu-highscore-button-all");e.setAttribute("class","");d.setAttribute("class","");b.setAttribute("class","");(a=document.getElementById(a))&&a.setAttribute("class","selected")},y=function(){BM_API.getHighscores().isEnabled()&&
BM_API.getHighscores().hideHighscoreWindow();BM_API.getInterface().isEnabled()&&(BM_API.getInterface().closeCloseDialog(),BM_API.getInterface().closeErrorDialog());BM_API.getGeneric().removeElementFromDocumentById("booster-menu-tab-background")},H=function(){null!=g&&(g.style.width=window.innerWidth-42+"px",g.style.height=window.innerHeight+"px")};return{autoInit:function(){this._super()},afterAnimComplete:function(a){if(a.currentTarget){var e=BM_API.getGeneric().getAnimationEndEventName(a.currentTarget);
e&&a.currentTarget.removeEventListener(e,BM_API.getInterface().afterAnimComplete,!1);a.currentTarget.callbackAfterAnim(a.currentTarget)}},showOverlayNotification:function(a,e){var d=document.getElementById("booster-notification-overlay");if(d){var b={html:a,css:e};null===x&&(x=[]);x.push(b)}else d=document.createElement("div"),d.setAttribute("id","booster-notification-overlay"),d.setAttribute("class",e),d.innerHTML=a,document.body.insertBefore(d,document.body.firstChild);d.addEventListener(BM_API.getGeneric().getAnimationEndEventName(d),
BM_API.getInterface().afterAnimComplete,!1);d.callbackAfterAnim=N},hideAllOverlays:y,isEnabled:function(){return h},init:function(n){n&&(n.menuButtonHeight&&(b=n.menuButtonHeight),n.onBeforeOpenMenu&&(m=n.onBeforeOpenMenu),n.onAfterCloseMenu&&(r=n.onAfterCloseMenu));f=document.getElementById("boosterbar");f||(f=document.createElement("div"),f.setAttribute("id","boosterbar"),d=document.createElement("div"),d.setAttribute("id","booster-menu-content"),f.appendChild(d),document.body.insertBefore(f,document.body.firstChild));
i=document.getElementById("booster-menu-closed");i||(i=document.createElement("div"),i.setAttribute("id","booster-menu-closed"));a=document.getElementById("booster-menu-opened");a||(a=document.createElement("div"),a.setAttribute("id","booster-menu-opened"),g=document.createElement("div"),g.setAttribute("id","booster-menu-opened-leftside"),g.style.width=window.innerWidth-42+"px",g.style.height=window.innerHeight+"px",a.appendChild(g));v=[l,u,e];h=!0;window&&(window.addEventListener("orientationchange",
function(){BM_API.getInterface().updateOnOrientation()},!1),window.addEventListener("resize",function(){BM_API.getInterface().updateOnResize()},!1))},initFromProfile:function(a){if(h){if(1===a){var a=BM_API.getProfile().getGameInfo(),d=BM_i18n.en_US.btn_back_community,d=d.replace("[[x]]",a.giDestinationEndUserName);e.text=d+" <div id='booster-menu-icons' class='booster-icon-backtoportal' />"}else v=[],v.push(t),BM_API.getHighscores().isEnabled()&&v.push(s),v.push(u),v.push(w);E();BM_API.getInterface().closeMenu()}},
setElementEnabled:function(){},closeMenu:function(a){a=a||window.event;if(!q){var e=document.getElementById("booster-menu-opened");e&&(e.setAttribute("class","class_anim_moveOut"),e.addEventListener(BM_API.getGeneric().getAnimationEndEventName(e),BM_API.getInterface().afterAnimComplete,!1),e.callbackAfterAnim=L);window.scrollTo(0,1);BM_API.getAnalytics().eventBBarClose();r&&"function"===typeof r&&r.call()}BM_API.getGeneric().stopClickPropagation(a)},openMenu:function(a){a=a||window.event;if(!k){var e=
document.getElementById("booster-menu-closed");e.setAttribute("class","class_anim_moveOut");e.addEventListener(BM_API.getGeneric().getAnimationEndEventName(e),BM_API.getInterface().afterAnimComplete,!1);e.callbackAfterAnim=M}BM_API.getGeneric().stopClickPropagation(a)},minimizeBar:function(a){BM_API.getInterface().closeMenu(a)},normalizeBar:function(){},goLogin:function(a){switch(a){case "bb_mainmenu_btn":BM_API.getAnalytics().eventBBarSignInUpMainMenu();break;case "bb_leaderboard_btn":BM_API.getAnalytics().eventBBarSignInUpLeaderboard();
break;case "bb_scorescreen_btn":BM_API.getAnalytics().eventBBarSignInUpScoreScreen()}var e=BM_API.getProfile().getGameInfo();if(!BM_API.getProfile().isProfileAvail()||!e.giSession)y(),BM_API.getProfile().openLoginWindow(a),BM_API.getInterface().closeMenu(null),BM_API.getProfile().renderContinueButton()},closeErrorDialog:function(a){a=a||window.event;BM_API.getGeneric().removeElementFromDocumentById("booster-error-overlay");BM_API.getGeneric().stopClickPropagation(a)},showCloseDialog:function(a,e,
d,b,l){a=a||window.event;if(""===l||" "===l)l="null";var f="";switch(b){case 1:f='<ul><li onclick="javascript:BM_API.getInterface().closeCloseDialog(event, 1, '+l+');"  ontouchstart="javascript:BM_API.getInterface().closeCloseDialog(event, 1, '+l+');">YES</li> <li onclick="javascript:BM_API.getInterface().closeCloseDialog(event, 2, '+l+');"  ontouchstart="javascript:BM_API.getInterface().closeCloseDialog(event, 2, '+l+');">NO</li></ul> ';break;default:case 2:f='<ul><li onclick="javascript:BM_API.getInterface().closeCloseDialog(event, 0, '+
l+');"  ontouchstart="javascript:BM_API.getInterface().closeCloseDialog(event, 0, '+l+');">Ok</li></ul> '}b=document.getElementById("booster-dialog-overlay");b||(b=document.createElement("div"),b.setAttribute("id","booster-dialog-overlay"),b.innerHTML="<h1>{0}</h1><p>"+d+'</p> <div id="booster-dialog-overlay-bottom">{1}</div>'.format(e,f),document.body.insertBefore(b,document.body.firstChild));BM_API.getGeneric().stopClickPropagation(a)},closeCloseDialog:function(a,e,d){a=a||window.event;1===e&&""!==
d&&d(e);BM_API.getGeneric().stopClickPropagation(a)},showAd320x50InMenu:function(a){var e=document.getElementById("booster-banner-ad");e||(e=document.createElement("div"),e.setAttribute("id","booster-banner-ad"),e.setAttribute("class","adIn"),document.body.insertBefore(e,document.body.firstChild));e.innerHTML="<div id='booster-menu-bannerad-header'> <div id='booster-menu-bannerad-close' onClick='BM_API.getAd().onBannerAdClose();' onTouchend='BM_API.getAd().onBannerAdClose();'>X</div> </div>"+a},showAd300x250InMenu:function(a){document.getElementById("booster-menu-overlay-tab-intertial")||
(q?(a=F(a),j.push(a),BM_API.getInterface().openMenu(null)):k&&(a=F(a),j.push(a)))},showGainedScoreMenu:function(a,e){for(var d=document.getElementById("booster-menu-overlay-tab-highscores"),b=j.length,l=!1;b--;)String(j[b].innerHTML).contains("booster-menu-overlay-tab-highscores")&&(l=!0);!d&&!l&&(y(),q?(d=G(a,e),j.push(d),BM_API.getInterface().openMenu(null)):k&&(d=G(a,e),j.push(d)))},continueAfterAvertisementMenu:function(a){BM_API.getAnalytics().eventAdInterstitialClose();var a=a||window.event,
e=document.getElementById("booster-menu-overlay-tab-intertial").parentNode;e.setAttribute("class","class_anim_moveOut");e.addEventListener(BM_API.getGeneric().getAnimationEndEventName(e),BM_API.getInterface().afterAnimComplete,!1);e.callbackAfterAnim=I;BM_API.getGeneric().stopClickPropagation(a)},continueAfterGainedScoreMenu:function(a){var a=a||window.event,e=document.getElementById("booster-menu-overlay-tab-highscores").parentNode;e.setAttribute("class","class_anim_moveOut");e.addEventListener(BM_API.getGeneric().getAnimationEndEventName(e),
BM_API.getInterface().afterAnimComplete,!1);e.callbackAfterAnim=J;BM_API.getGeneric().stopClickPropagation(a)},showHighscores:function(a){a=a||window.event;BM_API.getInterface().showHighscoresAll(a);BM_API.getGeneric().stopClickPropagation(a)},showHighscoresAll:function(a){BM_API.getAnalytics().eventBBarLeaderBoardPeriodAllTime();var a=a||window.event,e=document.getElementById("booster-menu-highscoreTable");if(!e&&!document.getElementById("booster-menu-tab-background")){y();var d=C(),e=document.createElement("table");
e.setAttribute("id","booster-menu-highscoreTable");e.setAttribute("cellspacing","0");var b=document.createElement("div");b.setAttribute("id","booster-menu-highscore-container");b.innerHTML="<div id='booster-menu-highscore-container-loader' class='loader'><p>{0}</p></div>".format(BM_i18n.en_US.loading);b.appendChild(e);d.appendChild(b);d=B(d);null!==d&&g.appendChild(d)}e&&(e.innerHTML="",BM_API.getHighscores().isEnabled()&&(BM_API.getHighscores().populateHighscoreScreen(e,BM_API.getHighscores().PERIOD_ALL),
(e=document.getElementById("booster-menu-highscore-container-loader"))&&e.parentNode.removeChild(e)),D("booster-menu-highscore-button-all"));BM_API.getGeneric().stopClickPropagation(a)},showHighscoresDay:function(a){BM_API.getAnalytics().eventBBarLeaderBoardPeriodDay();var a=a||window.event,e=document.getElementById("booster-menu-highscoreTable");if(!e&&!document.getElementById("booster-menu-tab-background")){y();var d=C(),e=document.createElement("table");e.setAttribute("id","booster-menu-highscoreTable");
e.setAttribute("cellspacing","0");var b=document.createElement("div");b.setAttribute("id","booster-menu-highscore-container");b.innerHTML="<div id='booster-menu-highscore-container-loader' class='loader'><p>{0}</p></div>".format(BM_i18n.en_US.loading);b.appendChild(e);d.appendChild(b);d=B(d);null!==d&&g.appendChild(d)}e&&(e.innerHTML="",BM_API.getHighscores().isEnabled()&&(BM_API.getHighscores().populateHighscoreScreen(e,BM_API.getHighscores().PERIOD_DAY),(e=document.getElementById("booster-menu-highscore-container-loader"))&&
e.parentNode.removeChild(e)),D("booster-menu-highscore-button-day"));BM_API.getGeneric().stopClickPropagation(a)},showHighscoresWeek:function(a){BM_API.getAnalytics().eventBBarLeaderBoardPeriodWeek();var a=a||window.event,e=document.getElementById("booster-menu-highscoreTable");if(!e&&!document.getElementById("booster-menu-tab-background")){y();var d=C(),e=document.createElement("table");e.setAttribute("id","booster-menu-highscoreTable");e.setAttribute("cellspacing","0");var b=document.createElement("div");
b.setAttribute("id","booster-menu-highscore-container");b.innerHTML="<div id='booster-menu-highscore-container-loader' class='loader'><p>{0}</p></div>".format(BM_i18n.en_US.loading);b.appendChild(e);d.appendChild(b);d=B(d);null!==d&&g.appendChild(d)}e&&(e.innerHTML="",BM_API.getHighscores().isEnabled()&&(BM_API.getHighscores().populateHighscoreScreen(e,BM_API.getHighscores().PERIOD_WEEK),(e=document.getElementById("booster-menu-highscore-container-loader"))&&e.parentNode.removeChild(e)),D("booster-menu-highscore-button-week"));
BM_API.getGeneric().stopClickPropagation(a)},hideHighscores:function(a){var a=a||window.event,e=document.getElementById("booster-menu-tab-background");e.setAttribute("class","class_anim_moveOut");e.addEventListener(BM_API.getGeneric().getAnimationEndEventName(e),BM_API.getInterface().afterAnimComplete,!1);e.callbackAfterAnim=K;BM_API.getGeneric().stopClickPropagation(a)},updateOnOrientation:function(a){a=a||window.event;H();BM_API.getGeneric().stopClickPropagation(a)},updateOnResize:function(a){a=
a||window.event;H();BM_API.getGeneric().stopClickPropagation(a)},test:function(){BM_API.getInterface().showGainedScoreMenu();z();BM_API.getAd().showAdvertising()}}}());var BM_API_HIGHSCORES=BM_API_BASE.extend(function(){var h=!1,f=!1,d=!1,i=0,a=null,g=null,j=null,b=0,p=function(a){var e=a.split(" ")[0],d=e.split("-")[0],b=e.split("-")[1]-1,e=e.split("-")[2],f=a.split(" ")[1],a=f.split(":")[0],m=f.split(":")[1],f=f.split(":")[2],d=new Date(e,b,d,a,m,f),b=new Date,b=b.getTime()+6E4*b.getTimezoneOffset()-d.getTime(),d=0;6E4>b?(d=Math.round(b/1E3),b=1<d?"secs":"sec"):36E5>b?(d=Math.round(b/6E4),b=1<d?"mins":"min"):864E5>b?(d=Math.round(b/36E5),b=1<d?"hours":"hour"):
2592E6>b?(d=Math.round(b/864E5),b=1<d?"days":"day"):31536E6>b?(d=Math.round(b/2592E6),b=1<d?"months":"month"):(d=Math.round(b/31536E6),b=1<d?"years":"year");return 0<d?"{0} {1} ago".format(d,b):"---"},k=function(){if(d&&f&&null!==j&&null!==a){var b=j.insertRow(-1);b.setAttribute("class","booster-menu-subtitle");b=b.insertCell(0);b.setAttribute("colspan","3");b.innerHTML=BM_i18n.en_US.hs_allusers_title;for(b=0;b<a.length;b++){var e=j.insertRow(-1);c=e.insertCell(0);c.innerHTML="<img src='{0}' />".format(a[b].AVATAR);
c=e.insertCell(1);c.innerHTML="<p><span class='rank'>{0}.</span>{1}</p><p>{2}</p>".format(a[b].RANK,a[b].USER,p(a[b].TIMESTAMP));c=e.insertCell(2);c.innerHTML=""+a[b].S}null!==g?(e=j.insertRow(0),e.setAttribute("id","myscore"),c=e.insertCell(0),c.innerHTML="<img src='{0}' />".format(g.AVATAR),c=e.insertCell(1),c.innerHTML=0<g.RANK?"<p><span class='rank'>{0}.</span>{1}</p><p>{2}</p>".format(g.RANK,g.USER,p(g.TIMESTAMP)):"<p>{0}</p><p>{1}</p>".format(g.USER,g.TIMESTAMP),c=e.insertCell(2),c.innerHTML=
""+g.S,b=j.insertRow(0),b.setAttribute("class","booster-menu-subtitle"),b=b.insertCell(0),b.setAttribute("colspan","3"),b.innerHTML=BM_i18n.en_US.hs_my_title):(e=j.insertRow(0),e.setAttribute("id","myscore"),c=e.insertCell(0),c.setAttribute("colspan","3"),c.innerHTML="<div id='booster-menu-button-profile-register' \tonClick='BM_API.getInterface().goLogin(\"bb_leaderboard_btn\");'\tonTouch='BM_API.getInterface().goLogin(\"bb_leaderboard_btn\");'"+" >{0}</div>".format(BM_i18n.en_US.btn_register));b=
j.insertRow(-1);b.setAttribute("class","booster-menu-bottom-nav");c_pagi=b.insertCell(0);c_pagi.setAttribute("colspan","3");c_pagi.innerHTML=""}},q=function(b){if(0!==b&&(a=[],(b=JSON.parse(b))&&b.hasOwnProperty("payload")&&b.payload.hasOwnProperty("items")))for(var b=b.payload.items,e=null,d=0;d<b.length;d++)e=b[d],a.push({USER:e.username,S:e.score,RANK:e.rank,USERID:e.userId,AVATAR:e.avatarUrl,TIMESTAMP:e.timestamp})},m=function(a){a=a.target;if(a.requestCount===b){var e=a.responseText;if(200===
a.status&&0!==e&&(g=null,(e=JSON.parse(e))&&e.hasOwnProperty("payload")&&e.payload.hasOwnProperty("items"))){var a=BM_API.getProfile().getProfileObject(),e=e.payload.items,f=-1;if(0<e.length)for(var m=0;m<e.length;m++)0===i&&"ALL"===e[m].periodType?f=m:1===i&&"DAY"===e[m].periodType?f=m:2===i&&"WEEK"===e[m].periodType&&(f=m);g=0<=f?{USER:a.uiCommunityName,S:e[f].score,RANK:e[f].rank,USERID:0,AVATAR:a.uiCommunityAvatarUrl,TIMESTAMP:e[f].timestamp}:{USER:a.uiCommunityName,S:"---",RANK:0,USERID:0,AVATAR:a.uiCommunityAvatarUrl,
TIMESTAMP:BM_i18n.en_US.hs_no_score}}d=!0;k()}},r=function(a){a.target.requestCount===b&&(d=!0,k())},t=function(a){a=a.target;if(a.requestCount===b){var e=a.responseText;200===a.status&&q(e);f=!0;k()}},w=function(a){a.target.requestCount===b&&(q(0),f=!0,k())},s=function(a){a=a.target;200===a.status&&(a=a.bmHighscoreObject,h&&BM_API.getInterface().showGainedScoreMenu(a[0].scoreValue,1))},u=function(){};return{PERIOD_ALL:0,PERIOD_DAY:1,PERIOD_WEEK:2,autoInit:function(){this._super()},isEnabled:function(){return h},
init:function(){h=!0},test:function(){alert("test");this._super()},getRanking:function(){var d="ALL";switch(i){case BM_API.getHighscores().PERIOD_DAY:d="DAY";break;case BM_API.getHighscores().PERIOD_WEEK:d="WEEK"}var e=BM_API.getProfile().getGameInfo(),d=e.giCommunityUrl+"api/v1/"+e.giCustomerCode+"/"+e.giDestinationCode+"/games/"+BM_API.gameCode()+"/rankings?"+("periodType="+d+"&offset=0&limit=3");a=null;d=(new BM_CORS).createCORSRequest("GET",d,t,w);d.requestCount=b;d&&d.send()},getRankCurrentUser:function(){var a=
BM_API.getProfile().getGameInfo();if(null!=a.giSession&&0!=a.giSession.length){var e="session="+a.giSession,a=a.giCommunityUrl+"api/v1/"+a.giCustomerCode+"/"+a.giDestinationCode+"/games/"+BM_API.gameCode()+"/rankings/me?"+e,a=(new BM_CORS).createCORSRequest("GET",a,m,r);a.requestCount=b;a&&a.send()}else d=!0,k()},submitHighscores:function(a){if(BM_API.getProfile().getGameInfo().giSession){var e=BM_API.getProfile().getGameInfo();if(e&&e.giSession){var b="score="+a[0].scoreValue+"&session="+e.giSession,
e=e.giCommunityUrl+"api/v1/"+e.giCustomerCode+"/"+e.giDestinationCode+"/games/"+BM_API.gameCode()+"/highscore?"+b,e=(new BM_CORS).createCORSRequest("POST",e,s,u);e.bmHighscoreObject=a;e&&(e.send(b),BM_API.getAnalytics().eventCustom("highscore with name"))}else BM_API.getAnalytics().eventCustom("highscore no name")}else BM_API.getProfile().isEnabled()&&(BM_API.getProfile().createFeatureSaveData(BM_API.getProfile().GF_HIGHSCORE,{score:a[0].scoreValue},"portal1.demo.bmmob.com",BM_API.gameName(),BM_API.gameCategory(),
BM_API.gameID(),BM_API.gameCode()),BM_API.getInterface().showGainedScoreMenu(a[0].scoreValue,0))},populateHighscoreScreen:function(a,e){j=a;d=f=!1;i=e;b++;BM_API.getHighscores().getRanking();BM_API.getHighscores().getRankCurrentUser()},hideScoreDialog:function(a){a=a||window.event;BM_API.getInterface().closeOverlayDialog();BM_API.getGeneric().stopClickPropagation(a)},showHighscoreWindow:function(){},hideHighscoreWindow:function(a){var a=a||window.event,e=document.getElementById("booster-highscore-panel");
e&&BM_API.getGeneric().removeElementFromDocumentById(e.id);document.getElementById("booster-menu-highscores")&&document.getElementById("booster-menu-highscores").setAttribute("class","");BM_API.getGeneric().stopClickPropagation(a)}}}());var BM_API_HIGHSCORES_ANON=BM_API_BASE.extend(function(){var h=!1,f=!1,d=null,i=null,a=0,d=null,g=function(){if(f&&null!==i&&null!==d){var a=i.insertRow(-1);a.setAttribute("class","booster-menu-subtitle");a=a.insertCell(0);a.setAttribute("colspan","3");a.innerHTML=BM_i18n.en_US.hs_noncommunity_title;for(a=0;a<d.length;a++){var b=d[a].USER,b=b.substring(0,8),g=i.insertRow(-1);c=g.insertCell(0);c.innerHTML="";c=g.insertCell(1);c.innerHTML="<p>{0}. {1}</p><p></p>".format(a+1,b);c=g.insertCell(2);c.innerHTML=
""+d[a].S}a=i.insertRow(-1);a.setAttribute("class","booster-menu-bottom-nav");c_pagi=a.insertCell(0);c_pagi.setAttribute("colspan","3");c_pagi.innerHTML=""}},j=function(a){if(0!==a&&(d=[],(a=JSON.parse(a))&&a.type&&"highscore"===a.type))for(var a=a.scores,b=null,f=0;f<a.length;f++)b=a[f],d.push({USER:b.userName,S:b.points})},b=function(b){b=b.target;if(b.requestCount===a){var d=b.responseText;200===b.status&&j(d);f=!0;g()}},p=function(b){b.target.requestCount===a&&(j(0),f=!0,g())},k=function(a){a=
a.target;200===a.status&&(a=a.bmHighscoreObject,h&&BM_API.getInterface().showGainedScoreMenu(a[0].scoreValue,1))},q=function(){};return{autoInit:function(){this._super()},isEnabled:function(){return h},init:function(){h=!0},test:function(){alert("testBM_API_HIGHSCORES_ANON");this._super()},getRanking:function(){var f="http://social.connectedgameplay.com/gamefeed/"+(BM_API.gameName().replace(" ","_")+"/highscore/EN?size=8&imageSize=10&fallbackLanguage=EN");d=null;f=(new BM_CORS).createCORSRequest("GET",
f,b,p);f.withCredentials=!1;f.requestCount=a;f&&f.send()},submitHighscores:function(a){var b="",b=a&&a[0]&&a[0].nameFromGameValue?a[0].nameFromGameValue:prompt(BM_i18n.en_US.submitscore+a[0].scoreValue,"");if(null!==b&&""!==b){var b="fn=set&fg="+BM_API.gameName().replace(" ","_")+"&me="+b+"&hs="+a[0].scoreValue+"",d=(new BM_CORS).createCORSRequest("POST","http://social.connectedgameplay.com/flashhighscore?"+b,k,q);d.withCredentials=!1;d.setRequestHeader("Content-type","text/plain");d.bmHighscoreObject=
a;d&&(d.send(b),BM_API.getAnalytics().eventCustom("highscore with name"))}else BM_API.getAnalytics().eventCustom("highscore no name")},populateHighscoreScreen:function(b){i=b;i.parentElement.parentElement.setAttribute("class","booster-menu-tab-highscores-anonymouse");f=!1;a++;BM_API.getHighscores().getRanking()},hideHighscoreWindow:function(a){var a=a||window.event,b=document.getElementById("booster-highscore-panel");b&&BM_API.getGeneric().removeElementFromDocumentById(b.id);document.getElementById("booster-menu-highscores")&&
document.getElementById("booster-menu-highscores").setAttribute("class","");BM_API.getGeneric().stopClickPropagation(a)}}}());var BM_API_PROFILE=BM_API_BASE.extend(function(){var h=!1,f=!1,d={giCommunityUrl:null,giCustomerCode:null,giDestinationCode:null,giDestinationEndUserName:null,giLoginUrl:null,giSession:null},i=!1,a=!1,g={uiCommunityAvatarUrl:null,uiCommunityName:null},j=[],b=[],p=function(){BM_API.getHighscores().isEnabled()&&BM_API.getHighscoresAnon().init();BM_API.getHighscores=BM_API.getHighscoresAnon;BM_API.getInterface().initFromProfile(0)},k=function(){BM_API.getInterface()&&BM_API.getInterface().isEnabled()&&
BM_API.getInterface().closeMenu()},q=function(){for(;0<j.length;){var a=j.pop();a&&a.gfs_feature.toLowerCase()===BM_API.getProfile().GF_HIGHSCORE.toLowerCase()&&(a={scoreValue:a.gfs_data.score},BM_API.getHighscores().submitHighscores([a]))}},m=function(a){var a=a.target,g=a.responseText,h=!1;200===a.status&&(a=JSON.parse(g),d.giCustomerCode=a.customerCode,d.giDestinationCode=a.destinationCode,d.giDestinationEndUserName=a.destinationEndUserName,d.giCommunityUrl=a.communityUrl,d.giLoginUrl=a.loginUrl,
d.giSession=a.session,null!==d.giCommunityUrl&&(f=!0),(void 0===d.giSession||0===d.giSession.length)&&BM_API.getAnalytics().setCustomVariable(2,"User","Unknown",1),h=!0);if(h)if(f){s();for(var j in b)BM_API.getProfile();BM_API.getInterface().initFromProfile(1)}else p();else p();k()},r=function(){p();k()},t=function(b){var b=b.target,d=b.responseText;if(200===b.status){if((b=JSON.parse(d))&&b.hasOwnProperty("payload"))g.uiCommunityName=b.payload.username,g.uiCommunityAvatarUrl=b.payload.avatar.small,
i=!0;a&&(BM_API.getInterface().openMenu(null),a=!1)}},w=function(){},s=function(){if(null!=d.giSession&&0!=d.giSession.length){var a=d.giCommunityUrl+"api/v1/"+d.giCustomerCode+"/"+d.giDestinationCode+"/profile/me"+("?session="+d.giSession);(a=(new BM_CORS).createCORSRequest("GET",a,t,w))&&a.send()}},u=function(a,b){var d,f,g;if(this.postMessage)if(a&&(g=function(d){if("string"===typeof b&&d.origin!==b||"[object Function]"===Object.prototype.toString.call(b)&&!1===b(d.origin))return!1;a(d)}),this.addEventListener)this[a?
"addEventListener":"removeEventListener"]("message",g,!1);else this[a?"attachEvent":"detachEvent"]("onmessage",g);else d&&clearInterval(d),d=null,a&&(alert("callback is set"),d=setInterval(function(){var b=document.location.hash,d=/^#?\d+&/;b!==f&&d.test(b)&&(f=b,a({data:b.replace(d,"")}))},100))},l=function(){var a=document.getElementById("booster-menu-btn_continue"),b=document.getElementById("canvas");a.parentNode.removeChild(a);b&&(b.style.visibility="visible")};return{autoInit:function(){this._super()},
GF_HIGHSCORE:"highscore",GF_AWARD:"awards",GF_AVATAR:"avatar",isEnabled:function(){return h},isCommunityAvail:function(){return f},isCommunityFeaturesAvail:function(a){for(var d in b)if(b[d]===a)return!0;return!1},isProfileAvail:function(){return i},getProfileObject:function(){return g},init:function(){h=!0},test:function(){this._super()},connect:function(){var a=BM_API.gameID(),b=BM_API.gameCode(),d=BM_API.gameCategory(),a="http://"+BM_API.gameSource()+"/gameinfo/"+a+("?gameCode="+b+"&categoryCode="+
d);var b=BM_API.gameID(),d=BM_API.gameCode(),f=BM_API.gameSource();null===b||null===f||null===d?(p(),k(),b=!1):b=!0;b&&(a=(new BM_CORS).createCORSRequest("GET",a,m,r))&&a.send()},setFeatureEnabled:function(a){b.push(a)},getGameInfo:function(){return d},createFeatureSaveData:function(a,b,d,f,g,h,i){j.push({gfs_feature:a,gfs_data:b,gfs_portal:d,gfs_gameName:f,gfs_gameCategory:g,gfs_gameID:h,gfs_gameCode:i})},openLoginWindow:function(b){b=d.giLoginUrl+"?source="+b;BM_API.gameID();if(b){var f=b.split("/"),
g=f[0]+"//"+f[2];u(!1,g);u(function(b){b.origin===g&&(d.giSession=b.data,a=!0,s(),q(),l())},g)}b=b+"&gameDomain="+encodeURIComponent(document.location.href);window.open(b,"_blank","height=480px,width=320px,status=yes,toolbar=no,menubar=no,location=no")},renderContinueButton:function(){if(!document.getElementById("booster-menu-btn_continue")){var b=document.getElementById("canvas"),f=document.createElement("div"),g=function(){var b;a=!0;BM_API.getProfile().connect();b=BM_API.getProfile().getGameInfo();
d.giSession=b.giSession;""!=d.giSession&&(s(),q());l()};f.setAttribute("id","booster-menu-btn_continue");f.setAttribute("class","button");f.innerHTML="<span>{0}</span>".format(BM_i18n.en_US.btn_continue);f.addEventListener("touchstart",g,!1);f.addEventListener("click",g,!1);document.body.insertBefore(f,document.body.firstChild);b&&(b.style.visibility="hidden")}},removeContinueButton:l}}());var BM_API_TEASER=BM_API_BASE.extend(function(){var h=!0,f=[],d=document.createElement("style");d.type="text/css";d.innerHTML="#boosterbar #booster-menu-interstitial-close { visibility: hidden !important; }";var i=document.createElement("style");i.type="text/css";i.innerHTML="#boosterbar #booster-menu-interstitial-close { visibility: hidden !important; }";_advertisingEndAnimBanner=function(){var a=document.getElementById("booster-banner-ad");a.removeEventListener(BM_API.getGeneric.getAnimationEndEventName(a),
BM_API.getInterface().advertisingEndAnimBanner,!1);BM_api.getGeneric().removeElementFromDocumentById(a.id);document.getElementById("booster-banner-ad")&&document.getElementById("booster-banner-ad".style.display="none")};return{autoInit:function(){this._super()},init:function(){var a=BM_API.getGet("bm.interdelay");null!==a&&parseInt(a)},setTeaserEnabled:function(a){h=a},isTeaserEnabled:function(){return h},isGameReadyForTeaser:function(){return!0},setTeaser:function(a,d){var f="";return f="<iframe id='booster' src='http://ads.mocean.mobi/ad?site="+
a+"&zone="+d+"&game="+BM_API.gameName()+"' width='300px' height='250px' frameborder='0' scrolling='no'></iframe>"},addTeaser:function(a,d){this.isGameReadyForTeaser()?BM_API.getTeaser().showTeaser(a,d):f.push({func:this.addTeaser,site:a,zone:d})},showTeaser:function(a,f){this.isTeaserEnabled()&&(document.head.appendChild(d),BM_API.getInterface().showAd300x250InMenu(this.setTeaser(a,f)))}}}());var BM_API_ADSENSE=BM_API_BASE.extend(function(){var h=6E4,f=0,d=!0,i=!1,a=[],h=6E4,f=0;document.getElementById("contentElement");document.getElementById("adContainer");var g=document.createElement("style");g.type="text/css";g.innerHTML="#boosterbar #booster-menu-interstitial-close { visibility: hidden !important; }";var j=document.createElement("style");j.type="text/css";j.innerHTML="#boosterbar #booster-menu-interstitial-close { visibility: visible !important; }";_advertisingEndAnimBanner=function(){var a=
document.getElementById("booster-banner-ad");a.removeEventListener(BM_API.getGeneric.getAnimationEndEventName(a),BM_API.getInterface().advertisingEndAnimBanner,!1);BM_API.getGeneric().removeElementFromDocumentById(a.id);document.getElementById("booster-banner-ad")&&document.getElementById("booster-banner-ad".style.display="none")};return{autoInit:function(){this._super()},init:function(){var a=BM_API.getGET("bm.interdelay");null!==a&&(h=parseInt(a))},setAdsEnabled:function(a){d=a},isAdsEnabled:function(){return d},
isGameReadyForAds:function(){return i},setAdvertising:function(a){document.head.appendChild.crossIframeJS;return"<iframe id='booster' name='adFrame' src='/shared/production/adsense/?"+a+"' width='300px' height='250px' frameborder='0' scrolling='no'></iframe>"},addAdSenseAdvertising:function(b,d){this.isGameReadyForAds?BM_API.getAdsense().showAdvertising300x250(b,d):a.push({func:this.addAdSenseAdvertising,site:b})},showAdvertising300x250:function(a,d){var j,i=15,m,r,t=!0;this.callback=void 0==d?function(){console.log("test")}:
d;if(this.isAdsEnabled()){var w=Date.now(),s=this;if(w-f>h)document.head.appendChild(g),BM_API.getInterface().showAd300x250InMenu(this.setAdvertising(a)),f=w,s=this,adTime=setInterval(function(){(r=document.getElementById("booster-menu-overlay-tab-highscores"))&&!0===t&&(m=document.getElementById("booster-menu-overlay-tab-intertial"));m&&!0===t&&(t=!1,i=15);j=i--;try{document.getElementById("ad-time-counter").innerHTML="Advertisement will close automatically in: "+j}catch(a){console.log(a)}0===j&&
(s.callback.call(),BM_API.getAdsense().closeBoosterBar(),setTimeout(function(){BM_API.getAdsense().closeBoosterBar()},5E3))},1E3);else try{s.callback.call()}catch(u){console.log(u)}}},closeAdsenseAdvertisment:function(){clearInterval(adTime);var a=document.getElementById("booster");a.parentNode.removeChild(a);document.head.appendChild(j)},continueAfterAdsense:function(){for(i=!0;0<a.length;){var b=a.splice(0,1)[0];b&&b.func.call(this,b.channelid)}},closeBoosterBar:function(){BM_API.getAdsense().closeAdsenseAdvertisment();
BM_API.getInterface().continueAfterAvertisementMenu()}}}());window.externalFunction=function(){BM_API.getGeneric().showMoreGames()};window.externalButtonName="more games";function bodyOnloadWrapper(){BM_API.getGeneric().onloadBM()}function addLoadEvent(h){var f=window.onload;window.onload="function"!==typeof window.onload?h:function(){f&&f();h()}};var BM_API_POSTMESSAGE=BM_API_BASE.extend(function(){var h,f,d=1,i;return{autoInit:function(){this._super()},postMessage:function(a,f,h){f&&(h=h||parent,window.postMessage?h.postMessage(a,f.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):f&&(h.location=f.replace(/#.*$/,"")+"#"+ +new Date+d++ +"&"+a))},receiveMessage:function(a,d){if(window.postMessage)if(a&&(i=function(f){if("string"===typeof d&&f.origin!==d||"[object Function"===toString.call(d)&&!1===source.origin(f.origin))return!1;a(f)}),window.addEventListener)window[a?
"addEventListener":"removeEventListener"]("message",i,!1);else window[a?"attachEvent":"detachEvent"]("onmessage",i);else h&&clearInterval(h),h=null,a&&(h=setInterval(function(){var d=document.location.hash,b=/^#?\d+&/;d!==f&&b.test(d)&&(f=d,a({data:d.replace(b,"")}))},100))}}}());